<!DOCTYPE html>
<html>
  <head>
    <title>Demo</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="demo.css" />
    <link rel="stylesheet" href="mocha.css" />
  </head>
  <body>
	<div id="demo">
	  <hr />
	<h1>Extensible Calculator</h1>
	<hr />
	  <h2 class="title">Demonstration</h2>
	<table>
	  <tr>
		<th>Expression: </th>
		<td><input class="active" type="text" id="expr" value="5 + 5" autofocus="autofocus"/></td>
		<td rowspan="2"><button class="demo" onclick="getResult()">Get Result</button></td></tr>
	  <tr>
		<th>Result: </th>
		<td><input class="disabled" type="text" id="rslt" disabled="disabled"/></td>
	  </tr>
      <tr>
        <th class="lower16">Available </th>
      </tr>
      <tr>
        <th class="lower8">Operators: </th>
    	<td><input class="disabled" type="text" id="oper" disabled="disabled"/></td>
	  </tr>
         <tr>
        <th class="lower16">Grouping </th>
      </tr>
      <tr>
        <th class="lower8">Brackets: </th>
    	<td><input class="disabled" type="text" id="grbr" disabled="disabled"/></td>
	  </tr>
	</table>
	</div>
	<hr />
	<h2 class="title">Testing</h2>
    <div id="mocha"></div>
    <script src="mocha.js"></script>
    <script>mocha.setup('bdd');</script>
    
	<script src="extensible-calculator.js"></script>
	<script>
	 var expr1 = "1 + 2";
	 var calc1 = new xc.calculator();
	 var rslt1 = calc1.calculate( expr1 ); //3
	 
	 var expr2 = ["(",1,"+",2,")","*",2]; 
	 var calc2 = new xc.calculator({postfix:true});
	 var post2 = calc2.convert( expr2 );
	 var rslt2 = calc2.calculate( post2 ); //6
	 
	 var expr3 = -1; 
	 var calc3 = new xc.calculator({postfix:true});
	 var rslt3 = calc3.calculate( expr3 ); //4.5
	
	 var expr4 = "-1+5"; 
	 var calc4 = new xc.calculator();
	 var rslt4 = calc4.calculate( expr4 ); //4.5
	
	 
	 
	 alert(rslt1+", "+rslt2+", "+rslt3+", "+rslt4);
	</script>
    <script src="should.js"></script>
    <script src="tests.js"></script>
	<script>
	  var EN_SPACE = "\u2002";
	  var xcalc = new xc.calculator();
      oper.value = xc.operators.list.join(EN_SPACE);
      grbr.value = xc.brackets.list.join(EN_SPACE);
	  function getResult() {
	    rslt.value = xcalc.calculate(xcalc.convert(xcalc.correct(expr.value))).valueOf();
	  }
	</script>
	
    <script>
      mocha.run();
    </script>
  </body>
</html>
